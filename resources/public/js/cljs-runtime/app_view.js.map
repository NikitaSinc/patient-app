{"version":3,"sources":["app_view.cljs"],"mappings":"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","names":["app-view/compute-age","dob","js/Math.abs","js/Date","app-view/error-message","error","re_frame.core.subscribe","cljs.core/deref","app-view/table-control","app-view/table","cljs.core.doall","patients","iter__5523__auto__","s__43707","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__43709","cljs.core/chunk-buffer","i__43708","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__43706","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","p","inputs/fio-input","inputs/oms-input","inputs/gender-select","inputs/birth-input","inputs/address-input","app-view/app","cljs.core/chunk-first"],"sourcesContent":["(ns app-view\n  (:require\n                  [re-frame.core :as rf]\n                  [stylo.core :refer [c]]\n                  [clojure.string :as s]\n                  [app-events :as ev]\n                  [inputs :as i]))\n\n\n\n(defn compute-age [dob]\n  (str (js/Math.abs (- (.getUTCFullYear (js/Date.)) (.getUTCFullYear dob)))))\n\n(defn error-message []\n  (let [error (rf/subscribe [:error])]\n  [:div\n   (if (not (nil? @error))\n     [:p @error])]))\n\n(defn table-control []\n  [:div {:class (c :flex)}\n   [:input]\n   [:select\n    [:option {:value \"By FIO\"} ]\n    [:option {:value \"By OMS\"} ]]\n   [:input]\n   [:select\n    [:option {:value \"Yanger\"} ]\n    [:option {:value \"Older\"} ]]\n   [:fieldset\n    [:input {:type :radio :value \"Males\"} ]\n    [:input {:type :radio :value \"Females\"} ]]])\n\n(defn table []\n  [:div\n   [:table {:class (c :table [:border 2] [:w 200]  :rounded)}\n    [:thead\n     [:tr\n     [:th \"FIO\"]\n     [:th \"OMS\"]\n     [:th \"Gender\"]\n     [:th \"Age\"]\n     [:th \"Address\"]\n      [:th]\n      [:th]]]\n    [:tbody {:class (c [:px 5])}\n    (doall\n      (let [patients (rf/subscribe [:patients])]\n        (for [p @patients]\n          ^{:key p}\n          [:tr\n           [:td (:patients/fio p)]\n           [:td (:patients/oms p)]\n           [:td (:patients/gender p)]\n           [:td (compute-age (:patients/dob p))]\n           [:td (:patients/address p)]\n           [:td [:button \"Change\"]]\n           [:td [:button \"Delete\"]]])))\n     [:tr\n      [:td [i/fio-input]]\n      [:td [i/oms-input]]\n      [:td [i/gender-select]]\n      [:td [i/birth-input]]\n      [:td [i/address-input]]\n      [:td [:button \"Add\"]]]]]])\n\n(defn app []\n  [:div {:class (c [:px 12])}\n   [table-control]\n   [table]\n   [error-message]])\n"]}