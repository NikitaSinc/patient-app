{
"version":3,
"file":"out.goog.promise.promise.js",
"lineCount":528,
"mappings":"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",
"sources":["out/goog/promise/promise.js"],
"sourcesContent":["/*TRANSPILED*//*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\n'use strict';\ngoog.provide(\"goog.Promise\");\ngoog.require(\"goog.Thenable\");\ngoog.require(\"goog.asserts\");\ngoog.require(\"goog.async.FreeList\");\ngoog.require(\"goog.async.run\");\ngoog.require(\"goog.async.throwException\");\ngoog.require(\"goog.debug.Error\");\ngoog.require(\"goog.promise.Resolver\");\ngoog.Promise = function(resolver, opt_context) {\n  this.state_ = goog.Promise.State_.PENDING;\n  this.result_ = undefined;\n  this.parent_ = null;\n  this.callbackEntries_ = null;\n  this.callbackEntriesTail_ = null;\n  this.executing_ = false;\n  if (goog.Promise.UNHANDLED_REJECTION_DELAY > 0) {\n    this.unhandledRejectionId_ = 0;\n  } else if (goog.Promise.UNHANDLED_REJECTION_DELAY == 0) {\n    this.hadUnhandledRejection_ = false;\n  }\n  if (goog.Promise.LONG_STACK_TRACES) {\n    this.stack_ = [];\n    this.addStackTrace_(new Error(\"created\"));\n    this.currentStep_ = 0;\n  }\n  if (resolver != goog.nullFunction) {\n    try {\n      var self = this;\n      resolver.call(opt_context, function(value) {\n        self.resolve_(goog.Promise.State_.FULFILLED, value);\n      }, function(reason) {\n        if (goog.DEBUG && !(reason instanceof goog.Promise.CancellationError)) {\n          try {\n            if (reason instanceof Error) {\n              throw reason;\n            } else {\n              throw new Error(\"Promise rejected.\");\n            }\n          } catch (e) {\n          }\n        }\n        self.resolve_(goog.Promise.State_.REJECTED, reason);\n      });\n    } catch (e) {\n      this.resolve_(goog.Promise.State_.REJECTED, e);\n    }\n  }\n};\ngoog.Promise.LONG_STACK_TRACES = goog.define(\"goog.Promise.LONG_STACK_TRACES\", false);\ngoog.Promise.UNHANDLED_REJECTION_DELAY = goog.define(\"goog.Promise.UNHANDLED_REJECTION_DELAY\", 0);\ngoog.Promise.State_ = {PENDING:0, BLOCKED:1, FULFILLED:2, REJECTED:3};\ngoog.Promise.CallbackEntry_ = function() {\n  this.child = null;\n  this.onFulfilled = null;\n  this.onRejected = null;\n  this.context = null;\n  this.next = null;\n  this.always = false;\n};\ngoog.Promise.CallbackEntry_.prototype.reset = function() {\n  this.child = null;\n  this.onFulfilled = null;\n  this.onRejected = null;\n  this.context = null;\n  this.always = false;\n};\ngoog.Promise.DEFAULT_MAX_UNUSED = goog.define(\"goog.Promise.DEFAULT_MAX_UNUSED\", 100);\ngoog.Promise.freelist_ = new goog.async.FreeList(function() {\n  return new goog.Promise.CallbackEntry_();\n}, function(item) {\n  item.reset();\n}, goog.Promise.DEFAULT_MAX_UNUSED);\ngoog.Promise.getCallbackEntry_ = function(onFulfilled, onRejected, context) {\n  var entry = goog.Promise.freelist_.get();\n  entry.onFulfilled = onFulfilled;\n  entry.onRejected = onRejected;\n  entry.context = context;\n  return entry;\n};\ngoog.Promise.returnEntry_ = function(entry) {\n  goog.Promise.freelist_.put(entry);\n};\ngoog.Promise.resolve = function(opt_value) {\n  if (opt_value instanceof goog.Promise) {\n    return opt_value;\n  }\n  var promise = new goog.Promise(goog.nullFunction);\n  promise.resolve_(goog.Promise.State_.FULFILLED, opt_value);\n  return promise;\n};\ngoog.Promise.reject = function(opt_reason) {\n  return new goog.Promise(function(resolve, reject) {\n    reject(opt_reason);\n  });\n};\ngoog.Promise.resolveThen_ = function(value, onFulfilled, onRejected) {\n  var isThenable = goog.Promise.maybeThen_(value, onFulfilled, onRejected, null);\n  if (!isThenable) {\n    goog.async.run(goog.partial(onFulfilled, value));\n  }\n};\ngoog.Promise.race = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    if (!promises.length) {\n      resolve(undefined);\n    }\n    for (var i = 0, promise; i < promises.length; i++) {\n      promise = promises[i];\n      goog.Promise.resolveThen_(promise, resolve, reject);\n    }\n  });\n};\ngoog.Promise.all = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    var toFulfill = promises.length;\n    var values = [];\n    if (!toFulfill) {\n      resolve(values);\n      return;\n    }\n    var onFulfill = function(index, value) {\n      toFulfill--;\n      values[index] = value;\n      if (toFulfill == 0) {\n        resolve(values);\n      }\n    };\n    var onReject = function(reason) {\n      reject(reason);\n    };\n    for (var i = 0, promise; i < promises.length; i++) {\n      promise = promises[i];\n      goog.Promise.resolveThen_(promise, goog.partial(onFulfill, i), onReject);\n    }\n  });\n};\ngoog.Promise.allSettled = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    var toSettle = promises.length;\n    var results = [];\n    if (!toSettle) {\n      resolve(results);\n      return;\n    }\n    var onSettled = function(index, fulfilled, result) {\n      toSettle--;\n      results[index] = fulfilled ? {fulfilled:true, value:result} : {fulfilled:false, reason:result};\n      if (toSettle == 0) {\n        resolve(results);\n      }\n    };\n    for (var i = 0, promise; i < promises.length; i++) {\n      promise = promises[i];\n      goog.Promise.resolveThen_(promise, goog.partial(onSettled, i, true), goog.partial(onSettled, i, false));\n    }\n  });\n};\ngoog.Promise.firstFulfilled = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    var toReject = promises.length;\n    var reasons = [];\n    if (!toReject) {\n      resolve(undefined);\n      return;\n    }\n    var onFulfill = function(value) {\n      resolve(value);\n    };\n    var onReject = function(index, reason) {\n      toReject--;\n      reasons[index] = reason;\n      if (toReject == 0) {\n        reject(reasons);\n      }\n    };\n    for (var i = 0, promise; i < promises.length; i++) {\n      promise = promises[i];\n      goog.Promise.resolveThen_(promise, onFulfill, goog.partial(onReject, i));\n    }\n  });\n};\ngoog.Promise.withResolver = function() {\n  var resolve, reject;\n  var promise = new goog.Promise(function(rs, rj) {\n    resolve = rs;\n    reject = rj;\n  });\n  return new goog.Promise.Resolver_(promise, resolve, reject);\n};\ngoog.Promise.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {\n  if (opt_onFulfilled != null) {\n    goog.asserts.assertFunction(opt_onFulfilled, \"opt_onFulfilled should be a function.\");\n  }\n  if (opt_onRejected != null) {\n    goog.asserts.assertFunction(opt_onRejected, \"opt_onRejected should be a function. Did you pass opt_context \" + \"as the second argument instead of the third?\");\n  }\n  if (goog.Promise.LONG_STACK_TRACES) {\n    this.addStackTrace_(new Error(\"then\"));\n  }\n  return this.addChildPromise_(typeof opt_onFulfilled === \"function\" ? opt_onFulfilled : null, typeof opt_onRejected === \"function\" ? opt_onRejected : null, opt_context);\n};\ngoog.Thenable.addImplementation(goog.Promise);\ngoog.Promise.prototype.thenVoid = function(opt_onFulfilled, opt_onRejected, opt_context) {\n  if (opt_onFulfilled != null) {\n    goog.asserts.assertFunction(opt_onFulfilled, \"opt_onFulfilled should be a function.\");\n  }\n  if (opt_onRejected != null) {\n    goog.asserts.assertFunction(opt_onRejected, \"opt_onRejected should be a function. Did you pass opt_context \" + \"as the second argument instead of the third?\");\n  }\n  if (goog.Promise.LONG_STACK_TRACES) {\n    this.addStackTrace_(new Error(\"then\"));\n  }\n  this.addCallbackEntry_(goog.Promise.getCallbackEntry_(opt_onFulfilled || goog.nullFunction, opt_onRejected || null, opt_context));\n};\ngoog.Promise.prototype.thenAlways = function(onSettled, opt_context) {\n  if (goog.Promise.LONG_STACK_TRACES) {\n    this.addStackTrace_(new Error(\"thenAlways\"));\n  }\n  var entry = goog.Promise.getCallbackEntry_(onSettled, onSettled, opt_context);\n  entry.always = true;\n  this.addCallbackEntry_(entry);\n  return this;\n};\ngoog.Promise.prototype.thenCatch = function(onRejected, opt_context) {\n  if (goog.Promise.LONG_STACK_TRACES) {\n    this.addStackTrace_(new Error(\"thenCatch\"));\n  }\n  return this.addChildPromise_(null, onRejected, opt_context);\n};\ngoog.Promise.prototype.cancel = function(opt_message) {\n  if (this.state_ == goog.Promise.State_.PENDING) {\n    var err = new goog.Promise.CancellationError(opt_message);\n    goog.async.run(function() {\n      this.cancelInternal_(err);\n    }, this);\n  }\n};\ngoog.Promise.prototype.cancelInternal_ = function(err) {\n  if (this.state_ == goog.Promise.State_.PENDING) {\n    if (this.parent_) {\n      this.parent_.cancelChild_(this, err);\n      this.parent_ = null;\n    } else {\n      this.resolve_(goog.Promise.State_.REJECTED, err);\n    }\n  }\n};\ngoog.Promise.prototype.cancelChild_ = function(childPromise, err) {\n  if (!this.callbackEntries_) {\n    return;\n  }\n  var childCount = 0;\n  var childEntry = null;\n  var beforeChildEntry = null;\n  for (var entry = this.callbackEntries_; entry; entry = entry.next) {\n    if (!entry.always) {\n      childCount++;\n      if (entry.child == childPromise) {\n        childEntry = entry;\n      }\n      if (childEntry && childCount > 1) {\n        break;\n      }\n    }\n    if (!childEntry) {\n      beforeChildEntry = entry;\n    }\n  }\n  if (childEntry) {\n    if (this.state_ == goog.Promise.State_.PENDING && childCount == 1) {\n      this.cancelInternal_(err);\n    } else {\n      if (beforeChildEntry) {\n        this.removeEntryAfter_(beforeChildEntry);\n      } else {\n        this.popEntry_();\n      }\n      this.executeCallback_(childEntry, goog.Promise.State_.REJECTED, err);\n    }\n  }\n};\ngoog.Promise.prototype.addCallbackEntry_ = function(callbackEntry) {\n  if (!this.hasEntry_() && (this.state_ == goog.Promise.State_.FULFILLED || this.state_ == goog.Promise.State_.REJECTED)) {\n    this.scheduleCallbacks_();\n  }\n  this.queueEntry_(callbackEntry);\n};\ngoog.Promise.prototype.addChildPromise_ = function(onFulfilled, onRejected, opt_context) {\n  var callbackEntry = goog.Promise.getCallbackEntry_(null, null, null);\n  callbackEntry.child = new goog.Promise(function(resolve, reject) {\n    callbackEntry.onFulfilled = onFulfilled ? function(value) {\n      try {\n        var result = onFulfilled.call(opt_context, value);\n        resolve(result);\n      } catch (err) {\n        reject(err);\n      }\n    } : resolve;\n    callbackEntry.onRejected = onRejected ? function(reason) {\n      try {\n        var result = onRejected.call(opt_context, reason);\n        if (result === undefined && reason instanceof goog.Promise.CancellationError) {\n          reject(reason);\n        } else {\n          resolve(result);\n        }\n      } catch (err) {\n        reject(err);\n      }\n    } : reject;\n  });\n  callbackEntry.child.parent_ = this;\n  this.addCallbackEntry_(callbackEntry);\n  return callbackEntry.child;\n};\ngoog.Promise.prototype.unblockAndFulfill_ = function(value) {\n  goog.asserts.assert(this.state_ == goog.Promise.State_.BLOCKED);\n  this.state_ = goog.Promise.State_.PENDING;\n  this.resolve_(goog.Promise.State_.FULFILLED, value);\n};\ngoog.Promise.prototype.unblockAndReject_ = function(reason) {\n  goog.asserts.assert(this.state_ == goog.Promise.State_.BLOCKED);\n  this.state_ = goog.Promise.State_.PENDING;\n  this.resolve_(goog.Promise.State_.REJECTED, reason);\n};\ngoog.Promise.prototype.resolve_ = function(state, x) {\n  if (this.state_ != goog.Promise.State_.PENDING) {\n    return;\n  }\n  if (this === x) {\n    state = goog.Promise.State_.REJECTED;\n    x = new TypeError(\"Promise cannot resolve to itself\");\n  }\n  this.state_ = goog.Promise.State_.BLOCKED;\n  var isThenable = goog.Promise.maybeThen_(x, this.unblockAndFulfill_, this.unblockAndReject_, this);\n  if (isThenable) {\n    return;\n  }\n  this.result_ = x;\n  this.state_ = state;\n  this.parent_ = null;\n  this.scheduleCallbacks_();\n  if (state == goog.Promise.State_.REJECTED && !(x instanceof goog.Promise.CancellationError)) {\n    goog.Promise.addUnhandledRejection_(this, x);\n  }\n};\ngoog.Promise.maybeThen_ = function(value, onFulfilled, onRejected, context) {\n  if (value instanceof goog.Promise) {\n    value.thenVoid(onFulfilled, onRejected, context);\n    return true;\n  } else if (goog.Thenable.isImplementedBy(value)) {\n    value = value;\n    value.then(onFulfilled, onRejected, context);\n    return true;\n  } else if (goog.isObject(value)) {\n    const thenable = value;\n    try {\n      var then = thenable.then;\n      if (typeof then === \"function\") {\n        goog.Promise.tryThen_(thenable, then, onFulfilled, onRejected, context);\n        return true;\n      }\n    } catch (e) {\n      onRejected.call(context, e);\n      return true;\n    }\n  }\n  return false;\n};\ngoog.Promise.tryThen_ = function(thenable, then, onFulfilled, onRejected, context) {\n  var called = false;\n  var resolve = function(value) {\n    if (!called) {\n      called = true;\n      onFulfilled.call(context, value);\n    }\n  };\n  var reject = function(reason) {\n    if (!called) {\n      called = true;\n      onRejected.call(context, reason);\n    }\n  };\n  try {\n    then.call(thenable, resolve, reject);\n  } catch (e) {\n    reject(e);\n  }\n};\ngoog.Promise.prototype.scheduleCallbacks_ = function() {\n  if (!this.executing_) {\n    this.executing_ = true;\n    goog.async.run(this.executeCallbacks_, this);\n  }\n};\ngoog.Promise.prototype.hasEntry_ = function() {\n  return !!this.callbackEntries_;\n};\ngoog.Promise.prototype.queueEntry_ = function(entry) {\n  goog.asserts.assert(entry.onFulfilled != null);\n  if (this.callbackEntriesTail_) {\n    this.callbackEntriesTail_.next = entry;\n    this.callbackEntriesTail_ = entry;\n  } else {\n    this.callbackEntries_ = entry;\n    this.callbackEntriesTail_ = entry;\n  }\n};\ngoog.Promise.prototype.popEntry_ = function() {\n  var entry = null;\n  if (this.callbackEntries_) {\n    entry = this.callbackEntries_;\n    this.callbackEntries_ = entry.next;\n    entry.next = null;\n  }\n  if (!this.callbackEntries_) {\n    this.callbackEntriesTail_ = null;\n  }\n  if (entry != null) {\n    goog.asserts.assert(entry.onFulfilled != null);\n  }\n  return entry;\n};\ngoog.Promise.prototype.removeEntryAfter_ = function(previous) {\n  goog.asserts.assert(this.callbackEntries_);\n  goog.asserts.assert(previous != null);\n  if (previous.next == this.callbackEntriesTail_) {\n    this.callbackEntriesTail_ = previous;\n  }\n  previous.next = previous.next.next;\n};\ngoog.Promise.prototype.executeCallbacks_ = function() {\n  var entry = null;\n  while (entry = this.popEntry_()) {\n    if (goog.Promise.LONG_STACK_TRACES) {\n      this.currentStep_++;\n    }\n    this.executeCallback_(entry, this.state_, this.result_);\n  }\n  this.executing_ = false;\n};\ngoog.Promise.prototype.executeCallback_ = function(callbackEntry, state, result) {\n  if (state == goog.Promise.State_.REJECTED && callbackEntry.onRejected && !callbackEntry.always) {\n    this.removeUnhandledRejection_();\n  }\n  if (callbackEntry.child) {\n    callbackEntry.child.parent_ = null;\n    goog.Promise.invokeCallback_(callbackEntry, state, result);\n  } else {\n    try {\n      callbackEntry.always ? callbackEntry.onFulfilled.call(callbackEntry.context) : goog.Promise.invokeCallback_(callbackEntry, state, result);\n    } catch (err) {\n      goog.Promise.handleRejection_.call(null, err);\n    }\n  }\n  goog.Promise.returnEntry_(callbackEntry);\n};\ngoog.Promise.invokeCallback_ = function(callbackEntry, state, result) {\n  if (state == goog.Promise.State_.FULFILLED) {\n    callbackEntry.onFulfilled.call(callbackEntry.context, result);\n  } else if (callbackEntry.onRejected) {\n    callbackEntry.onRejected.call(callbackEntry.context, result);\n  }\n};\ngoog.Promise.prototype.addStackTrace_ = function(err) {\n  if (goog.Promise.LONG_STACK_TRACES && typeof err.stack === \"string\") {\n    var trace = err.stack.split(\"\\n\", 4)[3];\n    var message = err.message;\n    message += Array(11 - message.length).join(\" \");\n    this.stack_.push(message + trace);\n  }\n};\ngoog.Promise.prototype.appendLongStack_ = function(err) {\n  if (goog.Promise.LONG_STACK_TRACES && err && typeof err.stack === \"string\" && this.stack_.length) {\n    var longTrace = [\"Promise trace:\"];\n    for (var promise = this; promise; promise = promise.parent_) {\n      for (var i = this.currentStep_; i >= 0; i--) {\n        longTrace.push(promise.stack_[i]);\n      }\n      longTrace.push(\"Value: \" + \"[\" + (promise.state_ == goog.Promise.State_.REJECTED ? \"REJECTED\" : \"FULFILLED\") + \"] \" + \"\\x3c\" + String(promise.result_) + \"\\x3e\");\n    }\n    err.stack += \"\\n\\n\" + longTrace.join(\"\\n\");\n  }\n};\ngoog.Promise.prototype.removeUnhandledRejection_ = function() {\n  if (goog.Promise.UNHANDLED_REJECTION_DELAY > 0) {\n    for (var p = this; p && p.unhandledRejectionId_; p = p.parent_) {\n      goog.global.clearTimeout(p.unhandledRejectionId_);\n      p.unhandledRejectionId_ = 0;\n    }\n  } else if (goog.Promise.UNHANDLED_REJECTION_DELAY == 0) {\n    for (var p = this; p && p.hadUnhandledRejection_; p = p.parent_) {\n      p.hadUnhandledRejection_ = false;\n    }\n  }\n};\ngoog.Promise.addUnhandledRejection_ = function(promise, reason) {\n  if (goog.Promise.UNHANDLED_REJECTION_DELAY > 0) {\n    promise.unhandledRejectionId_ = goog.global.setTimeout(function() {\n      promise.appendLongStack_(reason);\n      goog.Promise.handleRejection_.call(null, reason);\n    }, goog.Promise.UNHANDLED_REJECTION_DELAY);\n  } else if (goog.Promise.UNHANDLED_REJECTION_DELAY == 0) {\n    promise.hadUnhandledRejection_ = true;\n    goog.async.run(function() {\n      if (promise.hadUnhandledRejection_) {\n        promise.appendLongStack_(reason);\n        goog.Promise.handleRejection_.call(null, reason);\n      }\n    });\n  }\n};\ngoog.Promise.handleRejection_ = goog.async.throwException;\ngoog.Promise.setUnhandledRejectionHandler = function(handler) {\n  goog.Promise.handleRejection_ = handler;\n};\ngoog.Promise.CancellationError = function(opt_message) {\n  goog.Promise.CancellationError.base(this, \"constructor\", opt_message);\n  this.reportErrorToServer = false;\n};\ngoog.inherits(goog.Promise.CancellationError, goog.debug.Error);\ngoog.Promise.CancellationError.prototype.name = \"cancel\";\ngoog.Promise.Resolver_ = function(promise, resolve, reject) {\n  this.promise = promise;\n  this.resolve = resolve;\n  this.reject = reject;\n};\n"],
"names":["goog","provide","require","Promise","goog.Promise","resolver","opt_context","state_","State_","PENDING","result_","undefined","parent_","callbackEntries_","callbackEntriesTail_","executing_","UNHANDLED_REJECTION_DELAY","unhandledRejectionId_","hadUnhandledRejection_","LONG_STACK_TRACES","stack_","addStackTrace_","Error","currentStep_","nullFunction","self","call","value","resolve_","FULFILLED","reason","DEBUG","CancellationError","e","REJECTED","define","BLOCKED","CallbackEntry_","goog.Promise.CallbackEntry_","child","onFulfilled","onRejected","context","next","always","prototype","reset","goog.Promise.CallbackEntry_.prototype.reset","DEFAULT_MAX_UNUSED","freelist_","async","FreeList","item","getCallbackEntry_","goog.Promise.getCallbackEntry_","entry","get","returnEntry_","goog.Promise.returnEntry_","put","resolve","goog.Promise.resolve","opt_value","promise","reject","goog.Promise.reject","opt_reason","resolveThen_","goog.Promise.resolveThen_","isThenable","maybeThen_","run","partial","race","goog.Promise.race","promises","length","i","all","goog.Promise.all","toFulfill","values","onFulfill","index","onReject","allSettled","goog.Promise.allSettled","toSettle","results","onSettled","fulfilled","result","firstFulfilled","goog.Promise.firstFulfilled","toReject","reasons","withResolver","goog.Promise.withResolver","rs","rj","Resolver_","then","goog.Promise.prototype.then","opt_onFulfilled","opt_onRejected","asserts","assertFunction","addChildPromise_","Thenable","addImplementation","thenVoid","goog.Promise.prototype.thenVoid","addCallbackEntry_","thenAlways","goog.Promise.prototype.thenAlways","thenCatch","goog.Promise.prototype.thenCatch","cancel","goog.Promise.prototype.cancel","opt_message","err","cancelInternal_","goog.Promise.prototype.cancelInternal_","cancelChild_","goog.Promise.prototype.cancelChild_","childPromise","childCount","childEntry","beforeChildEntry","removeEntryAfter_","popEntry_","executeCallback_","goog.Promise.prototype.addCallbackEntry_","callbackEntry","hasEntry_","scheduleCallbacks_","queueEntry_","goog.Promise.prototype.addChildPromise_","unblockAndFulfill_","goog.Promise.prototype.unblockAndFulfill_","assert","unblockAndReject_","goog.Promise.prototype.unblockAndReject_","goog.Promise.prototype.resolve_","state","x","TypeError","addUnhandledRejection_","goog.Promise.maybeThen_","isImplementedBy","isObject","thenable","tryThen_","goog.Promise.tryThen_","called","goog.Promise.prototype.scheduleCallbacks_","executeCallbacks_","goog.Promise.prototype.hasEntry_","goog.Promise.prototype.queueEntry_","goog.Promise.prototype.popEntry_","goog.Promise.prototype.removeEntryAfter_","previous","goog.Promise.prototype.executeCallbacks_","goog.Promise.prototype.executeCallback_","removeUnhandledRejection_","invokeCallback_","handleRejection_","goog.Promise.invokeCallback_","goog.Promise.prototype.addStackTrace_","stack","trace","split","message","Array","join","push","appendLongStack_","goog.Promise.prototype.appendLongStack_","longTrace","String","goog.Promise.prototype.removeUnhandledRejection_","p","global","clearTimeout","goog.Promise.addUnhandledRejection_","setTimeout","throwException","setUnhandledRejectionHandler","goog.Promise.setUnhandledRejectionHandler","handler","goog.Promise.CancellationError","base","reportErrorToServer","inherits","debug","name","goog.Promise.Resolver_"]
}
