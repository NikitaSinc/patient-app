{
"version":3,
"file":"out.goog.async.workqueue.js",
"lineCount":64,
"mappings":"AAAcA,IAAKC,CAAAA,UAAL,CAAgB,QAAQ,CAACC,OAAD,CAAU;AAMhDF,MAAKG,CAAAA,MAAL,CAAY,sBAAZ,CAAA;AACAH,MAAKG,CAAAA,MAAOC,CAAAA,sBAAZ,EAAA;AACA,QAAMC,WAAWL,IAAKM,CAAAA,OAAL,CAAa,qBAAb,CAAjB;AACA,QAAM,CAACC,MAAD,CAAA,GAAWP,IAAKM,CAAAA,OAAL,CAAa,cAAb,CAAjB;AACA,OAAME,UAAN;AACEC,eAAW,EAAG;AACZ,UAAKC,CAAAA,SAAL,GAAiB,IAAjB;AACA,UAAKC,CAAAA,SAAL,GAAiB,IAAjB;AAFY;AAIdC,OAAG,CAACC,EAAD,EAAKC,KAAL,CAAY;AACb,YAAMC,OAAO,IAAKC,CAAAA,cAAL,EAAb;AACAD,UAAKE,CAAAA,GAAL,CAASJ,EAAT,EAAaC,KAAb,CAAA;AACA,UAAI,IAAKH,CAAAA,SAAT,CAAoB;AAClB,YAAKA,CAAAA,SAAUO,CAAAA,IAAf,GAAsBH,IAAtB;AACA,YAAKJ,CAAAA,SAAL,GAAiBI,IAAjB;AAFkB,OAApB,KAGO;AACLR,cAAA,CAAO,CAAC,IAAKG,CAAAA,SAAb,CAAA;AACA,YAAKA,CAAAA,SAAL,GAAiBK,IAAjB;AACA,YAAKJ,CAAAA,SAAL,GAAiBI,IAAjB;AAHK;AANM;AAYfI,UAAM,EAAG;AACP,UAAIJ,OAAO,IAAX;AACA,UAAI,IAAKL,CAAAA,SAAT,CAAoB;AAClBK,YAAA,GAAO,IAAKL,CAAAA,SAAZ;AACA,YAAKA,CAAAA,SAAL,GAAiB,IAAKA,CAAAA,SAAUQ,CAAAA,IAAhC;AACA,YAAI,CAAC,IAAKR,CAAAA,SAAV;AACE,cAAKC,CAAAA,SAAL,GAAiB,IAAjB;AADF;AAGAI,YAAKG,CAAAA,IAAL,GAAY,IAAZ;AANkB;AAQpB,aAAOH,IAAP;AAVO;AAYTK,gBAAY,CAACL,IAAD,CAAO;AACjBP,eAAUa,CAAAA,SAAUC,CAAAA,GAApB,CAAwBP,IAAxB,CAAA;AADiB;AAGnBC,kBAAc,EAAG;AACf,aAAOR,SAAUa,CAAAA,SAAUE,CAAAA,GAApB,EAAP;AADe;AAhCnB;AAoCAf,WAAUgB,CAAAA,kBAAV,GAA+BxB,IAAKyB,CAAAA,MAAL,CAAY,yCAAZ,EAAuD,GAAvD,CAA/B;AACAjB,WAAUa,CAAAA,SAAV,GAAsB,IAAIhB,QAAJ,CAAa,EAAA,IAAM,IAAIqB,QAAJ,EAAnB,EAAmCX,IAAA,IAAQA,IAAKY,CAAAA,KAAL,EAA3C,EAAyDnB,SAAUgB,CAAAA,kBAAnE,CAAtB;AACA,OAAME,SAAN;AACEjB,eAAW,EAAG;AACZ,UAAKI,CAAAA,EAAL,GAAU,IAAV;AACA,UAAKC,CAAAA,KAAL,GAAa,IAAb;AACA,UAAKI,CAAAA,IAAL,GAAY,IAAZ;AAHY;AAKdD,OAAG,CAACJ,EAAD,EAAKC,KAAL,CAAY;AACb,UAAKD,CAAAA,EAAL,GAAUA,EAAV;AACA,UAAKC,CAAAA,KAAL,GAAaA,KAAb;AACA,UAAKI,CAAAA,IAAL,GAAY,IAAZ;AAHa;AAKfS,SAAK,EAAG;AACN,UAAKd,CAAAA,EAAL,GAAU,IAAV;AACA,UAAKC,CAAAA,KAAL,GAAa,IAAb;AACA,UAAKI,CAAAA,IAAL,GAAY,IAAZ;AAHM;AAXV;AAiBAhB,SAAA,GAAUM,SAAV;AAEC,SAAON,OAAP;AAnE+C,CAAlC,CAAA;;",
"sources":["out/goog/async/workqueue.js"],
"sourcesContent":["/*TRANSPILED*/goog.loadModule(function(exports) {'use strict';/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\n'use strict';\ngoog.module(\"goog.async.WorkQueue\");\ngoog.module.declareLegacyNamespace();\nconst FreeList = goog.require(\"goog.async.FreeList\");\nconst {assert} = goog.require(\"goog.asserts\");\nclass WorkQueue {\n  constructor() {\n    this.workHead_ = null;\n    this.workTail_ = null;\n  }\n  add(fn, scope) {\n    const item = this.getUnusedItem_();\n    item.set(fn, scope);\n    if (this.workTail_) {\n      this.workTail_.next = item;\n      this.workTail_ = item;\n    } else {\n      assert(!this.workHead_);\n      this.workHead_ = item;\n      this.workTail_ = item;\n    }\n  }\n  remove() {\n    let item = null;\n    if (this.workHead_) {\n      item = this.workHead_;\n      this.workHead_ = this.workHead_.next;\n      if (!this.workHead_) {\n        this.workTail_ = null;\n      }\n      item.next = null;\n    }\n    return item;\n  }\n  returnUnused(item) {\n    WorkQueue.freelist_.put(item);\n  }\n  getUnusedItem_() {\n    return WorkQueue.freelist_.get();\n  }\n}\nWorkQueue.DEFAULT_MAX_UNUSED = goog.define(\"goog.async.WorkQueue.DEFAULT_MAX_UNUSED\", 100);\nWorkQueue.freelist_ = new FreeList(() => new WorkItem(), item => item.reset(), WorkQueue.DEFAULT_MAX_UNUSED);\nclass WorkItem {\n  constructor() {\n    this.fn = null;\n    this.scope = null;\n    this.next = null;\n  }\n  set(fn, scope) {\n    this.fn = fn;\n    this.scope = scope;\n    this.next = null;\n  }\n  reset() {\n    this.fn = null;\n    this.scope = null;\n    this.next = null;\n  }\n}\nexports = WorkQueue;\n\n;return exports;});\n"],
"names":["goog","loadModule","exports","module","declareLegacyNamespace","FreeList","require","assert","WorkQueue","constructor","workHead_","workTail_","add","fn","scope","item","getUnusedItem_","set","next","remove","returnUnused","freelist_","put","get","DEFAULT_MAX_UNUSED","define","WorkItem","reset"]
}
