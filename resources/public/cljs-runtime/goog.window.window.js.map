{
"version":3,
"file":"goog.window.window.js",
"lineCount":122,
"mappings":"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",
"sources":["goog.window.window.js"],
"sourcesContent":["goog.provide(\"goog.window\");\ngoog.require(\"goog.dom\");\ngoog.require(\"goog.dom.TagName\");\ngoog.require(\"goog.dom.safe\");\ngoog.require(\"goog.html.SafeUrl\");\ngoog.require(\"goog.html.uncheckedconversions\");\ngoog.require(\"goog.labs.userAgent.platform\");\ngoog.require(\"goog.string\");\ngoog.require(\"goog.string.Const\");\ngoog.require(\"goog.userAgent\");\ngoog.requireType(\"goog.string.TypedString\");\ngoog.window.DEFAULT_POPUP_HEIGHT = 500;\ngoog.window.DEFAULT_POPUP_WIDTH = 690;\ngoog.window.DEFAULT_POPUP_TARGET = \"google_popup\";\ngoog.window.createFakeWindow_ = function() {\n  return {};\n};\ngoog.window.open = function(linkRef, opt_options, opt_parentWin) {\n  if (!opt_options) {\n    opt_options = {};\n  }\n  var parentWin = opt_parentWin || window;\n  var safeLinkRef;\n  if (linkRef instanceof goog.html.SafeUrl) {\n    safeLinkRef = linkRef;\n  } else {\n    var url = typeof linkRef.href != \"undefined\" ? linkRef.href : String(linkRef);\n    safeLinkRef = goog.html.SafeUrl.sanitize(url);\n  }\n  const browserSupportsCoop = self.crossOriginIsolation !== undefined;\n  let referrerPolicy = \"strict-origin-when-cross-origin\";\n  if (window.Request) {\n    referrerPolicy = (new Request(\"/\")).referrerPolicy;\n  }\n  const pageSetsUnsafeReferrerPolicy = referrerPolicy === \"unsafe-url\";\n  if (browserSupportsCoop && opt_options[\"noreferrer\"]) {\n    if (pageSetsUnsafeReferrerPolicy) {\n      throw new Error(\"Cannot use the noreferrer option on a page that sets a referrer-policy of `unsafe-url` in modern browsers!\");\n    }\n    opt_options[\"noreferrer\"] = false;\n  }\n  var target = opt_options.target || linkRef.target;\n  var sb = [];\n  for (var option in opt_options) {\n    switch(option) {\n      case \"width\":\n      case \"height\":\n      case \"top\":\n      case \"left\":\n        sb.push(option + \"\\x3d\" + opt_options[option]);\n        break;\n      case \"target\":\n      case \"noopener\":\n      case \"noreferrer\":\n        break;\n      default:\n        sb.push(option + \"\\x3d\" + (opt_options[option] ? 1 : 0));\n    }\n  }\n  var optionString = sb.join(\",\");\n  var newWin;\n  if (goog.labs.userAgent.platform.isIos() && parentWin.navigator && parentWin.navigator[\"standalone\"] && target && target != \"_self\") {\n    var a = goog.dom.createElement(goog.dom.TagName.A);\n    goog.dom.safe.setAnchorHref(a, safeLinkRef);\n    a.setAttribute(\"target\", target);\n    if (opt_options[\"noreferrer\"]) {\n      a.setAttribute(\"rel\", \"noreferrer\");\n    }\n    var click = document.createEvent(\"MouseEvent\");\n    click.initMouseEvent(\"click\", true, true, parentWin, 1);\n    a.dispatchEvent(click);\n    newWin = goog.window.createFakeWindow_();\n  } else if (opt_options[\"noreferrer\"]) {\n    newWin = goog.dom.safe.openInWindow(\"\", parentWin, target, optionString);\n    var sanitizedLinkRef = goog.html.SafeUrl.unwrap(safeLinkRef);\n    if (newWin) {\n      if (goog.userAgent.EDGE_OR_IE) {\n        if (goog.string.contains(sanitizedLinkRef, \";\")) {\n          sanitizedLinkRef = \"'\" + sanitizedLinkRef.replace(/'/g, \"%27\") + \"'\";\n        }\n      }\n      newWin.opener = null;\n      var safeHtml = goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"b/12014412, meta tag with sanitized URL\"), '\\x3cmeta name\\x3d\"referrer\" content\\x3d\"no-referrer\"\\x3e' + '\\x3cmeta http-equiv\\x3d\"refresh\" content\\x3d\"0; url\\x3d' + goog.string.htmlEscape(sanitizedLinkRef) + '\"\\x3e');\n      var newDoc = newWin.document;\n      if (newDoc && newDoc.write) {\n        goog.dom.safe.documentWrite(newDoc, safeHtml);\n        newDoc.close();\n      }\n    }\n  } else {\n    newWin = goog.dom.safe.openInWindow(safeLinkRef, parentWin, target, optionString);\n    if (newWin && opt_options[\"noopener\"]) {\n      newWin.opener = null;\n    }\n  }\n  return newWin;\n};\ngoog.window.openBlank = function(opt_message, opt_options, opt_parentWin) {\n  var loadingMessage;\n  if (!opt_message) {\n    loadingMessage = \"\";\n  } else {\n    loadingMessage = goog.string.escapeString(goog.string.htmlEscape(opt_message));\n  }\n  var url = goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"b/12014412, encoded string in javascript: URL\"), 'javascript:\"' + encodeURI(loadingMessage) + '\"');\n  return goog.window.open(url, opt_options, opt_parentWin);\n};\ngoog.window.popup = function(linkRef, opt_options) {\n  if (!opt_options) {\n    opt_options = {};\n  }\n  opt_options[\"target\"] = opt_options[\"target\"] || linkRef[\"target\"] || goog.window.DEFAULT_POPUP_TARGET;\n  opt_options[\"width\"] = opt_options[\"width\"] || goog.window.DEFAULT_POPUP_WIDTH;\n  opt_options[\"height\"] = opt_options[\"height\"] || goog.window.DEFAULT_POPUP_HEIGHT;\n  var newWin = goog.window.open(linkRef, opt_options);\n  if (!newWin) {\n    return true;\n  }\n  newWin.focus();\n  return false;\n};\n\n//# sourceMappingURL=goog.window.window.js.map\n"],
"names":["goog","provide","require","requireType","window","DEFAULT_POPUP_HEIGHT","DEFAULT_POPUP_WIDTH","DEFAULT_POPUP_TARGET","createFakeWindow_","goog.window.createFakeWindow_","open","goog.window.open","linkRef","opt_options","opt_parentWin","parentWin","safeLinkRef","html","SafeUrl","url","href","String","sanitize","browserSupportsCoop","self","crossOriginIsolation","undefined","referrerPolicy","Request","pageSetsUnsafeReferrerPolicy","Error","target","sb","option","push","optionString","join","newWin","labs","userAgent","platform","isIos","navigator","a","dom","createElement","TagName","A","safe","setAnchorHref","setAttribute","click","document","createEvent","initMouseEvent","dispatchEvent","openInWindow","sanitizedLinkRef","unwrap","EDGE_OR_IE","string","contains","replace","opener","safeHtml","uncheckedconversions","safeHtmlFromStringKnownToSatisfyTypeContract","Const","from","htmlEscape","newDoc","write","documentWrite","close","openBlank","goog.window.openBlank","opt_message","loadingMessage","escapeString","safeUrlFromStringKnownToSatisfyTypeContract","encodeURI","popup","goog.window.popup","focus"]
}
